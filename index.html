<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>banul-바늘이야기</title>
    <!-- 파비콘 -->
    <link href="img/favicon.png" type="imgae/x-icon" rel="shortcut icon">
    <!-- css연결 -->
    <link rel="stylesheet" href="css/main.css" type="text/css">
    <!-- swiper css cdn연결 -->
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/> 
    <!-- 제이쿼리 라이브러리 연결 -->
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <!-- swiper js cdn 연결 -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <!-- js 연결 -->
    <script src="js/main.js"></script>
  
</head>
<body>
    <div class="wrap">
        <header>
            <div class="logo">
                <a href="index.html">
                    <img src="img/logo.png" alt="로고">
                </a>
            </div>
            <!-- 1차원메뉴 -->
            <nav>
                <ul>
                    <li><a href="#">바늘이야기</a></li>
                    <li><a href="#">샵</a></li>
                    <li><a href="#">도서</a></li>
                    <li><a href="#">바늘/도구</a></li>
                    <li><a href="#">부자재</a></li>
                    <li><a href="#">단추</a></li>
                    <li><a href="#">수편기</a></li>
                    <li><a href="#">알딸마켓</a></li>
                </ul>
            </nav>
            <!-- 로그인,회원가입 -->
            <div class="header_icon">
                <ul>
                    <li>
                        <a href="#">로그인</a> 
                    </li>
                    <li>
                        <a href="#">회원가입</a>
                    </li>
                </ul>
            </div>
        </header>
        <section class="s1">
            <div class="visual">
                <div class="visual_bg">
                    <div class="v1 first">
                        <div class="v1_img"></div>
                    </div>
                    <div class="v2">
                        <div class="v2_img"></div>
                    </div>
                    <div class="v3">
                        <div class="v3_img"></div>
                    </div>
                    <div class="v4 last">
                        <div class="v4_img"></div>
                    </div>
                </div>
                <div class="visual_des">
                    <div class="v1 des">
                        <div class="des_txt">
                        <!--마우스오버시 반투명배경-->
                        <h1><p>BAG</p></h1>
                        <P>체커보드 숄더백 겨울버전!<br> '버터6'로 떠보는 체커보드</P>
                        <!--하얀색 화살표-->
                        <b class="arrow">
                            <img src="img/header-icon-plus-one.png" alt="화살표">
                        </b>
                       </div>
                    </div>
                    <div class="v2 des">
                        <div class="des_txt">
                        <h1><p>KNIT</p></h1>
                        <P>[banul wear] 겨울을 위한<br>프리미엄 니트웨어!</P>
                        <!--하얀색 화살표-->
                        <b class="arrow">
                            <img src="img/header-icon.png" alt="화살표">
                        </b>
                    </div>
                    </div>
                    <div class="v3 des">
                        <div class="des_txt">
                        <h1><p>SCARF</p></h1>
                        <P>크리스마스 전에 꼭완성해야 <br>할 패키지TOP5!</P>
                        <!--하얀색 화살표-->
                        <b class="arrow">
                            <img src="img/header-icon.png" alt="화살표">
                        </b>
                    </div>
                    </div>
                    <div class="v4 des">
                        <div class="des_txt">
                        <h1><p>SCARF</p></h1>
                        <P>크리스마스 전에 꼭완성해야 <br>할 패키지TOP5!</P>
                        <!--하얀색 화살표-->
                        <b class="arrow">
                            <img src="img/header-icon.png" alt="화살표">
                        </b>
                    </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="s2">
            <div class="center">
                <h1>A NEW PACKAGE</h1>
                <P class="small_title">바늘이야기 회원님을 위한 신규패키지</P>
                <div class="swiper mySwiper1 package">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide s1">
                            <div class="slide_des">
                                <h2>넥카라세트</h2>
                                <a href="#">VIEW</a>
                            </div>
                        </div>
                        <div class="swiper-slide s2">
                            <div class="slide_des">
                                <h2>테디울 꽈배기</h2>
                                <a href="#">VIEW</a>
                            </div>
                        </div>
                        <div class="swiper-slide s3">
                            <div class="slide_des">
                                <h2>귀도리&핸드워머</h2>
                                <a href="#">VIEW</a>
                            </div>
                        </div>
                        <div class="swiper-slide s4">
                            <div class="slide_des">
                                <h2>아프리케&브로치</h2>
                                <a href="#">VIEW</a>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-button-next">
                        <img src="img/section-next.png" alt="next">
                    </div>
                    <div class="swiper-button-prev">
                        <img src="img/section-prev.png" alt="prev">
                    </div>
                </div>
            </div>
        </section>
        <section class="s3">
            <div class="center">
                <h1>A BOOK PREPARED BY BANUL</h1>
                <p class="small_title">바늘 이야기와 함께하는 다양한 도서를 만나보세요</p>
                <!-- 탭메뉴 -->
                <div class="tab">
                    <div class="tab_title">
                        <ul>
                            <li><a href="#" class="active">전체</a></li>
                            <li><a href="#">국내도서</a></li>
                            <li><a href="#">일본도서</a></li>
                            <li><a href="#">유럽도서</a></li>
                        </ul>
                    </div>
                    <div class="tab_con">
                        <div class="whole">
                            <ul>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t1">
                                        </div>
                                        <div class="tab_txt">
                                            <p>한미란의 니트 교실 거꾸로 뜨는 톱다운 니팅<br>TOP-DOWN KNITTING</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t2">

                                        </div>
                                        <div class="tab_txt">
                                            <p>니트 마르쉐 vol.23  <br>Heart Warming Life Series</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t3">

                                        </div>
                                        <div class="tab_txt">
                                            <p>서치프레스-SSE262 <br>Once Upon a Time...in Crochet</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="korea">
                            <ul>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t4">

                                        </div>
                                        <div class="tab_txt">
                                            <p>한미란의 니트 교실 거꾸로 뜨는 톱다운 니팅<br>TOP-DOWN KNITTING</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t5">

                                        </div>
                                        <div class="tab_txt">
                                            <p>스타스티치로 뜨는 겨울 소품</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t6">

                                        </div>
                                        <div class="tab_txt">
                                            <p>바늘이야기의 코바늘 수업<br>차근차근 시작하는 손뜨개</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="japan">
                            <ul>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t7">
                                        </div>
                                        <div class="tab_txt">
                                            <p>니트 마르쉐 vol.23  <br>Heart Warming Life Series</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t8">
                                        </div>
                                        <div class="tab_txt">
                                            <p>북유럽의 귀여운 손뜨개 기술</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t9">
                                        </div>
                                        <div class="tab_txt">
                                            <p>코바늘로 뜨는 인테리어 화분</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="europe">
                            <ul>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t10">
                                        </div>
                                        <div class="tab_txt">
                                            <p>서치프레스-SSE262<br>Once Upon a Time...in Cronchet</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t11">

                                        </div>
                                        <div class="tab_txt">
                                            <p>Adorable Toys,Hats,and MOre</p>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <div class="tab_img t12">

                                        </div>
                                        <div class="tab_txt">
                                            <p>Crochet Monkey Business</p>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div><!--tab end-->
                <div class="view_btn">
                    <a href="#"><p>VIEW MORE</p>
                        <span><img src="img/header-icon.png" alt="arrow"></span>
                      </a>
                </div>
            </div><!--center end-->
        </section>
        <section class="s4">
            <div class="center">
                <div class="s4_left">
                    <h1>BANUL ACADEMY</h1>
                    <p class="small_title">클래스가 다른 손뜨개 전문 아카데미</p>
                    <div class="academy">
                        <div class="swiper mySwiper2">
                            <div class="swiper-wrapper">
                               <div class="swiper-slide g1">
                                   <a href="#"></a>
                               </div> 
                               <div class="swiper-slide g2">
                                <a href="#"></a>
                            </div> 
                            <div class="swiper-slide g3">
                                <a href="#"></a>
                            </div> 
                            <div class="swiper-slide g4">
                                <a href="#"></a>
                            </div> 
                            <div class="swiper-slide g5">
                                <a href="#"></a>
                            </div> 
                            <div class="swiper-slide g6">
                                <a href="#"></a>
                            </div> 
                            <div class="swiper-slide g7">
                                <a href="#"></a>
                            </div> 
                            <div class="swiper-slide g8">
                                <a href="#"></a>
                            </div> 
                            <div class="swiper-slide g9">
                                <a href="#"></a>
                            </div> 
                            </div><!--slide wrapper-->
                          
                        </div><!--swiper-->
                        <div class="swiper-button-next2">
                            <img src="img/section3-icon-right.png" alt="next">
                        </div>
                        <div class="swiper-button-prev2">
                            <img src="img/section3-icon-left.png" alt="prev">
                        </div>
                    </div>
                </div>
                <div class="s4_right">
                    <div class="swiper mySwiper3">
                        <div class="swiper-wrapper">
                           <div class="swiper-slide g1">
                           </div> 
                           <div class="swiper-slide g2">
                        </div> 
                        <div class="swiper-slide g3">
                        </div> 
                        <div class="swiper-slide g4">
                        </div> 
                        <div class="swiper-slide g5">
                        </div> 
                        <div class="swiper-slide g6">
                        </div> 
                        <div class="swiper-slide g7">
                        </div> 
                        <div class="swiper-slide g8">
                        </div> 
                        <div class="swiper-slide g9">
                        </div> 
                        </div><!--slide wrapper-->
                    </div>
                </div>
            </div>
        </section>
        <section class="s5">
            <div class="center">
                <h1>PHOTO REVEIW</h1>
                <p class="small_title">12월 포토리뷰 당청자</p>
                <div class="event">
                    <ul>
                        <li>
                            <a href="#">
                                <img src="img/section4-1.png" alt="">
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <img src="img/section4-2.png" alt="">
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <img src="img/section4-3.png" alt="">
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </section>
        <footer>
            <div class="top_footer">
                <div class="center">
                    <div class="user">
                        <ul>
                            <li><a href="#">회사소개</a></li>
                            <li><a href="#">이용약관</a></li>
                            <li><a href="#">개인정보처리방침</a></li>
                            <li><a href="#">이용안내</a></li>
                            <li><a href="#">견적문의</a></li>
                        </ul>
                    </div>
                    <div class="sns">
                        <ul>
                            <li><a href="#"><img src="img/footer-youtube.png" alt="유튜브"></a></li>
                            <li><a href="#"><img src="img/footer-instar.png" alt="인스타그램"></a></li>
                            <li><a href="#"><img src="img/footer-facebook.png" alt="페이스북"></a></li>
                        </ul>
                    </div>
                </div><!--top_footer-->
            </div>
            <div class="bottom_footer">
                <div class="center">
                    <div class="addr">
                        <address>
                            (주) 바늘이야기 | 대표자: 송영예 | 개인정보관리 책임자 : 송학철 | 대표메일 : solvit@naver.com<br>
                            주소 : (파주본사) 경기도 파주시 탄현면 법흥로 100-1 (연희직영)서울특별시 서대문구 연희로 11가길 15<br>
                            상호명 : (주)바늘이야기 | 사업자번호 : 674-88-00100[사업자정복확인]
                        </address>
                        <p>COPYRIGHT 2021 BANUL. ALL RIGHT RESEVED.</p>
                    </div>
                    <div class="family">
                        <div class="family_title">
                            <a href="#">FAMILY SITE<span></span></a>
                        </div>
                        <div class="family_list">
                            <ul>
                                <li><a href="#">philder</a></li>
                                <li><a href="#">King cole</a></li>
                                <li><a href="#">SIRDAR</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- top버튼 -->
        <div class="top">TOP</div>
    </div>
        <!--visual 아코디언 메뉴 제이쿼리 코드-->
        <script src="https://code.jquery.com/jquery-1.11.0.js"></script>
    <script>
        //버전이 다른 2개의 제이쿼리를 사용하는 경우 제이쿼리의 충돌을 막기 위해서 제이쿼리를 다시 정의함. $j=jQuery
        var $j = $.noConflict();
        $j(document).ready(function(){
            //pdt_fix()함수 호출
        pdt_fix();
           //nenuWidthSet() 함수 호출
        menuWidthSet();
           //.visual_des 의 직속자식객체 div에 마우스오버 이벤트 설정
        $j('.visual_des > div').mouseover( function (){
            // .s1객체의 높이값을 _height변수에 저장
            var _height = $j('.s1').height();
            //$j(this) : 마우스오버 이벤트가 발생한 객체를 가리킴 (.visual_des > div)
            //m_width_over 함수 호출하면서 .visual_des > div 객체를 매개변수에 전달
            m_width_over( $j(this) );
            //만약 마우스 오버한 객체가 v1이거나, 또는 v4라면
            if ( $j(this).hasClass('v1') || $j(this).hasClass('v4') )
            {
                //v1 또는 v4영역의 가로길이 30%로 늘림
                //clearQueue()는 큐 메모리를 청소하라는 메서드
                $j(this).clearQueue().animate({'width':'30%'});
            }
            //.visual_des 의 직속자식객체 div에 마우스아웃시켰을때
        }).mouseout( function (){
            //m_width_out 함수 호출하면서 .visual_des > div에 객체를 매개변수에 전달
            m_width_out( $j(this) );
            //만약 마우스 아웃한 객체가 v1 또는 v4라면
            if ( $j(this).hasClass('v1') || $j(this).hasClass('v4') )
            {
                //v1 또는 v4 영역의 가로길이를 25%로 줄임
                $j(this).clearQueue().animate({'width':'25%'});
            }
        });
        //pdt_fix함수 선언
        function pdt_fix(){
            //.s1의 높이값 *0,166-49를 계산하여 _mgb변수에 저장
            var _mgb = $j('.s1').height() * 0.166-49;
            //.s1의 높이값 * 0.108를 계산하여 _mgb2변수에 저장
            var _mgb2 = $j('.s1').height() * 0.108;
            //.s1의 높이값을 _box 변수에 저장
            var _box = $j('.s1').height() ; //* 0.042
            //.visual_des 영역의 제목(h1)의 왼쪽 여백 값 지정
            $j('.visual_des h1').css('margin-left','7vw');
        }
        //변수 선언
        var _defaultWidth;
        var _defaultHeight;
        var _defaultGap;
        //menuWidthSet함수선언
        function menuWidthSet(){
            //.s1 영역의 가로길이를 4로 나눈 값을 _defaultwidth변수에 저장
            _defaultWidth = Math.round($j('.s1').width() / 4);
            //.s1 의 자식객체 (.v1,.v2,.v3,.v4) 끼리 겹치는 영역을 계산하여 _defaultGap 변수에 저장
            _defaultGap = Math.round($j('.s1').width() * 0.026);
            //.s1영역의 높이값을 _defaultHeight변수에 저장
            _defaultHeight = $j('.s1').height();
            //첫번째 영역 (v1)과 네번째 영역(v4)가 아닌 div객체들에 대해서  clip마스크를 사각형 영역으로 설정함.
            $j('.visual_bg > div').not('.first, .last').css({'clip':'rect(0px, '+ (_defaultWidth + 100) +'px, '+_defaultHeight + 'px, ' + _defaultGap + 'px)'});
            //첫번째 영역 (v1)에 대해서  clip마스크를 사각형 영역으로 설정함.
            $j('.visual_bg > div.first').css({'clip':'rect(0px, '+ (_defaultWidth+_defaultGap*2) +'px, '+_defaultHeight + 'px, ' +  '0px)'});
            //첫번째 영역 (v4)에 대해서  clip마스크를 사각형 영역으로 설정함.
            $j('.visual_bg > div.last').css({'clip':'rect(0px, '+ (_defaultWidth+_defaultGap*2) +'px, '+_defaultHeight + 'px, ' + (_defaultGap*2) +'px)'});
        }
       // m_width_over함수선언 $this:매개변수(.visual_des > div 객체를 전달 받음)
        function m_width_over( $this ){
            //마우스 오버된  객체의 인덱스 번호를 _currIndex 변수에 저장
            var _currIndex = $this.index();
            //v2~v3영역끼리 겹치는 부분을 2배로 설정
            var _gapX2 = _defaultGap*2;
            //v1~v4영역끼리 겹치는 부분을 2배로 설정
            var _gapX3 = _defaultGap*3;
            //인덱스 번호가 0이라면 (v1영역에 마우스 오버했을때)
            if ( $this.index() == 0 )
            {
                //마우스 오버된 v1영역의 가로길이가 넓어짐(왼쪽 기준)
                $j('.visual_bg .v1').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _gapX2 ) +'px, '+_defaultHeight + 'px, 0px)'});
                //v2영역의 가로길이는 조금 좁아짐
                $j('.visual_bg .v2').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _defaultGap + 1 ) +'px, '+_defaultHeight + 'px, ' + (_gapX3-1) +'px)'});
                //원래 화살표 이미지
                $j('.visual_des .arrow img').attr('src','img/header-icon.png');
                //.v1영역의 화살표 이미지 변경
                $j('.visual_des .v1 .arrow img').attr('src','img/header-icon-plus-one.png');
                $j('.visual_des h1').css('margin-left','5vw');
                $j('.visual_des .v1 h1').css('margin-left','5vw');                
                $j('.visual_des .v2 h1').css('margin-left','9vw');

              
            }
            //인덱스 번호가 1이라면 (v2영역에 마우스 오버했을때)
            else if ( $this.index() == 1 )
            {
                //v1 영역의 가로길이 좁아짐
                $j('.visual_bg .v1').clearQueue().animate({'clip' : 'rect(0px, '+ _defaultWidth +'px, '+_defaultHeight + 'px, 0px)'});
                //v2 영역의 가로길이 넓어짐
                $j('.visual_bg .v2').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _gapX2 ) +'px, '+_defaultHeight + 'px, 0px)'});
                //v3 영역의 가로길이 좁아짐
                $j('.visual_bg > .v3').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _defaultGap ) +'px, '+_defaultHeight + 'px, ' + (_gapX2-1) +'px)'});

                //화살표
                $j('.visual_des .arrow img').attr('src','img/header-icon.png');
                $j('.visual_des .v2 .arrow img').attr('src','img/header-icon-plus-one.png');
                $j('.visual_des .v2 h1').css('margin-left','3vw');
                $j('.visual_des h1').css('margin-left','5vw');

            }
            //인덱스 번호가 2이라면 (v3영역에 마우스 오버했을때)
            else if ( $this.index() == 2 )
            {
                //v2영역의 가로길이 넓어짐 
                $j('.visual_bg .v2').clearQueue().animate({'clip' : 'rect(0px, '+  _defaultWidth  +'px, '+_defaultHeight + 'px, 50px)'});
                $j('.visual_bg .v3').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _gapX2 + 1 ) +'px, '+_defaultHeight + 'px, 0px)'});
                $j('.visual_bg > .v4').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _defaultGap*2 ) +'px, '+_defaultHeight + 'px, ' + (_gapX3-1) +'px)'});
              
                //화살표
                $j('.visual_des .arrow img').attr('src','img/header-icon.png');
                $j('.visual_des .v3 .arrow img').attr('src','img/header-icon-plus-one.png');
                
                $j('.visual_des h1').css('margin-left','5vw');
                $j('.visual_des .v3 h1').css('margin-left','4.5vw');
                $j('.visual_des .v2 h1').css('margin-left','9vw');
            }
            //v4영역에 마우스 오버했을때
            else
            {
                $j('.visual_bg .v3').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth ) +'px, '+_defaultHeight + 'px, ' + _defaultGap +'px)'});
                $j('.visual_bg .v4').clearQueue().animate({'clip' : 'rect(0px, '+ ( _defaultWidth + _gapX2 ) +'px, '+_defaultHeight + 'px, ' + '0px)'});
              

                $j('.visual_des .arrow img').attr('src','img/header-icon.png');
                $j('.visual_des .v4 .arrow img').attr('src','img/header-icon-plus-one.png');
                $j('.visual_des .v3 h1').css('margin-left','2vw');
                $j('.visual_des h1').css('margin-left','5vw');
                $j('.visual_des .v3 h1').css('margin-left','3vw');
                $j('.visual_des .v4 h1').css('margin-left','7.2vw');
            }
        }

        function m_width_out( $this ){
            var _currIndex = $this.index();
            //.v2,v3영역의 가로길이를 원래대로 설정
            $j('.visual_bg > div').not('.first, .last').clearQueue().animate({'clip':'rect(0px, '+ (_defaultWidth + 100) +'px, '+_defaultHeight + 'px, ' + _defaultGap + 'px)'});
            //.v1 영역의 가로길이를 원래대로 설정
            $j('.visual_bg > .first').clearQueue().animate({'clip':'rect(0px, '+ (_defaultWidth+_defaultGap*2) +'px, '+_defaultHeight + 'px, ' +  '0px)'});
            //.v4 영역의 가로길이를 원래대로 설정
            $j('.visual_bg > .last').clearQueue().animate({'clip':'rect(0px, '+ (_defaultWidth+_defaultGap*2) +'px, '+_defaultHeight + 'px, ' +  (_defaultGap*2)  + 'px)'});
            //.v1~v4 영역의 화살표 원래 모양으로 돌림
            $j('.visual_des .arrow img').attr('src','img/header-icon.png');
            $j('.visual_des .v4  h1').css('margin-left','13vw');
            $j('.visual_des h1').css('margin-left','7vw');
            
        }


        function getStyle(elem, name) {
            return (elem.currentStyle && elem.currentStyle[name]) || elem.style[name];
        }

        function getClip(elem) {
            var cssClip = jQuery(elem).css('clip') || '';

            if (!cssClip) {
                // Try to get the clip rect another way for IE8.
                // This is a workaround for jQuery's css('clip') returning undefined
                // when the clip is defined in an external stylesheet in IE8. -JPOEHLS
                var pieces = {
                    top: getStyle(elem, 'clipTop'),
                    right: getStyle(elem, 'clipRight'),
                    bottom: getStyle(elem, 'clipBottom'),
                    left: getStyle(elem, 'clipLeft')
                };

                if (pieces.top && pieces.right && pieces.bottom && pieces.left) {
                    cssClip = 'rect(' + pieces.top + ' ' + pieces.right + ' ' + pieces.bottom + ' ' + pieces.left + ')';
                }
            }

            // Strip commas and return.
            return cssClip.replace(/,/g, ' ');
        }

        jQuery.fx.step.clip = function (fx) {
            if (fx.pos === 0) {
                var cRE = /rect\(([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)\)/;

                fx.start = cRE.exec(getClip(fx.elem));
                if (typeof fx.end === 'string') {
                    fx.end = cRE.exec(fx.end.replace(/,/g, ' '));
                }
            }
            if (fx.start && fx.end) {
                var sarr = new Array(), earr = new Array(), spos = fx.start.length, epos = fx.end.length,
                emOffset = fx.start[ss + 1] == 'em' ? (parseInt(j(fx.elem).css('fontSize')) * 1.333 * parseInt(fx.start[ss])) : 1;
                for (var ss = 1; ss < spos; ss += 2) { sarr.push(parseInt(emOffset * fx.start[ss])); }
                for (var es = 1; es < epos; es += 2) { earr.push(parseInt(emOffset * fx.end[es])); }
                fx.elem.style.clip = 'rect(' +
                parseInt((fx.pos * (earr[0] - sarr[0])) + sarr[0]) + 'px ' +
                parseInt((fx.pos * (earr[1] - sarr[1])) + sarr[1]) + 'px ' +
                parseInt((fx.pos * (earr[2] - sarr[2])) + sarr[2]) + 'px ' +
                parseInt((fx.pos * (earr[3] - sarr[3])) + sarr[3]) + 'px)';
            }
        }
    });
    </script>
</body>
</html>